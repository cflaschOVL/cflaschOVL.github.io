(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{9170:function(e,t,n){"use strict";n.d(t,{S$:function(){return g},Gb:function(){return w},J0:function(){return P}}),n(4209);var i=n(2322),a=n(3696),r=n(6812),_=n(2779),l=n.n(_),o=n(2876),s=n(2784),m=n(3955),c=n(8601),d=n(3220);let p=async e=>{let{id:t,secret:n}=e,i="".concat("https://api-qa.ama.ovl.cloud","/contact-service/attachments/").concat(t,"?secret=").concat(encodeURIComponent(n)),a=await (0,d.GX)(i);return a.body};var u=n(7298),h=n.n(u);function g(){let[e,t]=(0,s.useState)(!1),[n,_]=(0,s.useState)(!1),d=(0,o.useSearchParams)(),u=d.get("aId")||"",g=c.Ry().shape({password:c.Z_().required("Bitte geben Sie das Passwort ein!")}),x=(0,s.useMemo)(()=>({password:""}),[]),j=(0,m.cI)({resolver:(0,r.X)(g),defaultValues:x}),{handleSubmit:b}=j,v=async e=>{t(!0);try{let t=await p({id:u,secret:e.password});_(!1),window.open(null==t?void 0:t.redirect,"_self")}catch(e){console.error(e),_(!0)}finally{t(!1)}};return(0,i.jsx)("div",{className:h().mailAttachments,children:(0,i.jsxs)("div",{className:h().mailAttachments__container,children:[(0,i.jsx)("span",{className:l()("header-title"),children:"HALTUNG.AT"}),(0,i.jsxs)(a.RV,{methods:j,onSubmit:b(v),className:l()(h().mailAttachments__form),children:[(0,i.jsx)("div",{className:h().contactForm__upper,children:(0,i.jsx)("div",{className:h().contactForm__upper__inner,children:(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"o-label-wrapper",children:[(0,i.jsx)("label",{className:"u-form-input-label",children:"Bitte geben Sie das Passwort ein!"}),(0,i.jsx)(a.au,{name:"password",label:"Passwort",type:"password"})]})})})}),n&&(0,i.jsx)("p",{children:"Leider konnte Ihre Anfrage nicht \xfcbermittelt werden, versuchen Sie es bitte zu einem sp\xe4teren Zeitpunkt erneut"}),(0,i.jsx)("div",{className:h().mailAttachments__form__submit,children:(0,i.jsxs)(a.Vc,{buttonType:"submit",type:"primary",variant:"button",children:["Anfrage senden",e&&(0,i.jsx)(a.$j,{className:h().contactForm__submit__spinner})]})})]})]})})}var x=n(8753),j=n(8245),b=n(5969),v=n.n(b),f=n(6577),T=n.n(f);function F(e){var t;let{timeline:n}=e;return(0,i.jsxs)("div",{className:l()(v().paginatedTimelineItem),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:v().paginatedTimelineItem__content__item__imageWrapper,children:(0,i.jsx)("figure",{children:(0,i.jsx)("div",{className:v().paginatedTimelineItem__content__item__image,children:(0,i.jsx)(T(),{src:n.image.imageData,alt:n.image.alt,draggable:!1,placeholder:(null===(t=n.image.imageData)||void 0===t?void 0:t.blurDataURL)?"blur":"empty",fill:!0,style:{objectFit:"cover"}})})})}),(0,i.jsxs)("div",{className:v().paginatedTimelineItem__content__currentLine,children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:l()(v().paginatedTimelineItem__content__item__title,v().paginatedTimelineItem__content__item__headline,"h3"),children:n.title}),"string"==typeof n.content?(0,i.jsx)("p",{className:v().paginatedTimelineItem__content__item__text,children:n.content}):(0,i.jsx)("div",{className:v().paginatedTimelineItem__content__item__text,children:n.content})]})]})}function w(e){let{children:t,timelines:n}=e,[a,r]=(0,s.useState)(n[0].id);return(0,i.jsx)("div",{className:l()(v().paginatedTimeline,"o-content-xlarge","u-p-p-mobile"),children:(0,i.jsx)("div",{className:v().paginatedTimeline__content,children:(0,i.jsx)("div",{className:v().paginatedTimeline__content__wrapper,children:n.map((e,t)=>(0,i.jsx)(s.Fragment,{children:(0,i.jsx)(j.h,{onEnter:()=>{r(e.id)},topOffset:"20%",bottomOffset:"70%",children:(0,i.jsxs)("div",{id:e.id,className:l()(v().paginatedTimeline__content__item,{[v()["-active"]]:a===e.id}),children:[(0,i.jsxs)("div",{className:v().paginatedTimeline__content__line,children:[(0,i.jsxs)("h2",{className:l()(v().paginatedTimeline__content__item__title),children:[(0,i.jsx)("span",{children:e.year.slice(0,2)}),(0,i.jsx)("span",{children:e.year.slice(2)})]}),n.length===t+1&&(0,i.jsx)("div",{className:v().paginatedTimeline__content__triangle})]}),(0,i.jsx)("div",{className:v().paginatedTimeline__content__item__content,children:(0,i.jsx)(x.n,{animateIn:"animate__fadeIn",duration:.75,animateOnce:!0,children:(0,i.jsx)(F,{timeline:e})})})]})},t)},t))})})})}var N=n(7473),y=n(3672),I=n(481),A=n.n(I);function k(){var e;let[t,n]=(0,s.useState)(!1),[_,o]=(0,s.useState)(!1),[p,u]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[x,j]=(0,s.useState)(!1),b=(0,s.useRef)(null),{executeRecaptcha:v}=(0,N.xX)(),f=c.Ry().shape({message:c.Z_().required("Bitte geben Sie eine Nachricht ein!"),dataProtectionPolicyAccepted:c.O7().oneOf([!0],"Du musst der Datenschutzerkl\xe4rung zustimmen."),multiUpload:c.IX(),enquiriesAvailable:c.O7(),email:c.Z_().when("enquiriesAvailable",{is:e=>!!e,then:()=>c.Z_().email("Ung\xfcltiges E-Mail Format").required("Bitte geben Sie Ihre E-mail ein!")}),maps:c.Ry().shape({latitude:c.Z_(),longitude:c.Z_(),address:c.Z_().required("Bitte geben Sie eine Addresse ein!")})}),T=(0,s.useMemo)(()=>({message:"",email:"",dataProtectionPolicyAccepted:!1,enquiriesAvailable:!1,multiUpload:[]}),[]),F=(0,m.cI)({resolver:(0,r.X)(f),defaultValues:T}),{handleSubmit:w,setValue:I,watch:k,getValues:P}=F,R=k(),S=null===(e=P("multiUpload"))||void 0===e?void 0:e[0],M=async e=>{n(!0);try{var t;let n;if(null===(t=e.multiUpload)||void 0===t?void 0:t.length){let t=await (null==v?void 0:v());if(!(n=await B(e.multiUpload,t)))return}let i="\n            ".concat(e.message,"\n            <br/><br/>\n            <p><strong>Standort:</strong></p>").concat(U(e.maps.latitude,e.maps.longitude),"\n            ").concat(n?"<br/>\n            <p><strong>Anh\xe4nge:</strong></p>".concat(E(n)):"","\n            "),a=await (null==v?void 0:v());V({email:e.email,dataProtectionPolicyAccepted:e.dataProtectionPolicyAccepted,message:i,captchaToken:a})}catch(e){n(!1),o(!0)}},B=async(e,t)=>{let i;let a=Object.values(e[0])||[];try{let e=await (0,y.xA)({data:{attachments:a.map(e=>({filename:e.name})),captchaToken:t}});await Promise.all(e.map(e=>{let t=a.find(t=>(0,d.A0)(t.name)===(0,d.A0)(e.attachment.filename));return(0,d.WV)({url:e.s3Url,file:t})})),i=e}catch(e){n(!1),o(!0)}return i},U=(e,t)=>{let n="https://www.google.com/maps/place/".concat(e,",").concat(t);return'<p><a href="'.concat(n,'" target="_blank">').concat(n,"</a></p>")},E=e=>{let t="".concat("http://localhost:4200","/mail-attachments"),n="<ul>";return e.forEach(e=>{n+='<li><a href="'.concat(t,"?aId=").concat(e.attachment.id,'" target="_blank">').concat(t,"?aId=").concat(e.attachment.id,"</a></li>")}),n+="</ul>"},V=async e=>{try{await (0,y.Zn)({data:e}),C(),n(!1),o(!1),u(!0)}catch(e){n(!1),o(!0)}},C=()=>{(null==b?void 0:b.current)&&window.scrollTo({top:(null==b?void 0:b.current.offsetTop)-80,behavior:"smooth"})};return(0,s.useEffect)(()=>{x&&j(!1)},[x]),(0,i.jsx)("div",{className:A().reportForm,ref:b,children:(0,i.jsxs)("div",{className:"o-content-xlg",style:{paddingTop:"48px",paddingBottom:"48px"},children:[(0,i.jsx)("h1",{style:{marginBottom:"24px"},children:"SIE WOLLEN UNS ETWAS MELDEN? WIR WERDEN UNS DARUM K\xdcMMERN."}),(0,i.jsxs)("p",{style:{marginBottom:"24px"},children:["Sie haben in einem Betrieb, der f\xfcr das AMA-G\xfctesiegelprogramm produziert, ein Fehlverhalten erkannt? Dann haben Sie hier die M\xf6glichkeit, uns vertraulich \xfcber dieses Fehlverhalten zu informieren. Wir behandeln Ihre Meldung vertraulich und pr\xfcfen die Fakten.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"Sofern Sie dies w\xfcnschen, melden wir uns bei Ihnen zur\xfcck.*"]}),(0,i.jsxs)(a.RV,{methods:F,onSubmit:w(M),className:l()(A().reportForm__form,{[A()["-successfull"]]:p}),children:[(0,i.jsx)("div",{className:A().reportForm__upper,children:(0,i.jsxs)("div",{className:A().reportForm__upper__inner,children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"o-label-wrapper",children:[(0,i.jsx)("label",{className:"u-form-input-label",children:"Ihr vertraulicher Hinweis"}),(0,i.jsx)(a.r,{name:"message",label:"Ihre Nachricht"})]})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:l()(A().reportForm__upper__inner__left,"o-label-wrapper"),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"u-form-input-label",children:"Bilder oder Videos hochladen"}),(0,i.jsx)(a.rd,{reset:x,name:"multiUpload",onChange:e=>{I("multiUpload",[e.target.files],{shouldValidate:!0})},onRemove:()=>{I("multiUpload",[],{shouldValidate:!0})},accept:"image/*, video/*"}),!!S&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l()(A().reportForm__upload__list),children:Object.values(S).map((e,t)=>(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"u-body",children:e.name}),(0,i.jsx)("div",{className:"u-body-s",children:function(e){if(0===e)return"0 Byte";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB","TB"][t]}(e.size)})]},t))}),(0,i.jsx)("button",{className:l()("o-link o-link-secondary u-color-primary",A().reportForm__upload__remove),type:"button",onClick:()=>{I("multiUpload",[],{shouldValidate:!0}),j(!0)},children:"Alle entfernen"})]})]}),(0,i.jsxs)("div",{className:l()(A().reportForm__upper__inner__emailWrapper),children:[(0,i.jsx)("label",{className:"u-form-input-label",children:(0,i.jsx)(a.jb,{name:"enquiriesAvailable",label:(0,i.jsx)(i.Fragment,{children:"Ich stehe f\xfcr R\xfcckfragen zur Verf\xfcgung."})})}),!0===R.enquiriesAvailable&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"u-form-input-label",children:"E-Mail Adresse*"}),(0,i.jsx)(a.au,{name:"email",label:"max@mustermann.at"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"u-form-input-label",children:(0,i.jsx)(a.jb,{name:"dataProtectionPolicyAccepted",label:(0,i.jsxs)(i.Fragment,{children:["Ich bin mit der"," ",(0,i.jsx)(a.Vc,{href:"/datenschutz",variant:"link",className:"u-color-primary",type:"secondary",target:"_blank",children:"Datenschutzerkl\xe4rung"})," ","einverstanden.*"]})})}),(0,i.jsxs)("div",{className:A().reportForm__submit__wrapper,children:[(0,i.jsx)(a.Vc,{buttonType:"submit",variant:"button",onClick:()=>{g(!h)},children:"Anfrage senden"}),t&&(0,i.jsx)(a.$j,{className:A().reportForm__submit__spinner})]})]})]}),(0,i.jsx)("div",{className:"o-label-wrapper",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"u-form-input-label",children:"Wo haben Sie diesen Vorfall beobachtet?"}),(0,i.jsx)(a.GN,{name:"maps",label:"Standort eingeben"})]})})]})]})}),(0,i.jsx)("div",{className:A().reportForm__down}),_&&(0,i.jsxs)("div",{className:A().reportForm__error,children:[(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:"Leider konnte Ihre Anfrage nicht \xfcbermittelt werden, versuchen Sie es bitte zu einem sp\xe4teren Zeitpunkt erneut"})}),(0,i.jsxs)("button",{type:"button",className:A().reportForm__error__close,onClick:()=>o(!1),children:[(0,i.jsx)("span",{className:A().reportForm__error__close__top}),(0,i.jsx)("span",{className:A().reportForm__error__close__bottom})]})]})]}),(0,i.jsxs)("div",{className:l()(A().reportForm__thankyou,{[A()["-thankyou"]]:p}),children:[(0,i.jsx)("h3",{children:"Vielen Dank f\xfcr Ihre Anfrage, wir k\xfcmmern uns umgehend um die Beantwortung!"}),p&&(0,i.jsxs)("svg",{className:"o-animated-checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[(0,i.jsx)("circle",{className:"o-animated-checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),(0,i.jsx)("path",{className:"o-animated-checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})]})]})})}function P(){return(0,i.jsx)("div",{children:(0,i.jsx)(N.pm,{reCaptchaKey:"6LdCT4giAAAAANvtBCu4DmEfbvaUMqhqwZqMCBI2",language:"de",children:(0,i.jsx)(k,{})})})}},7298:function(e){e.exports={mailAttachments:"MailAttachments_mailAttachments__8qO2j",mailAttachments__container:"MailAttachments_mailAttachments__container__6l071",mailAttachments__form:"MailAttachments_mailAttachments__form__L_4yq",mailAttachments__form__submit:"MailAttachments_mailAttachments__form__submit__wWpH7"}},5969:function(e){e.exports={paginatedTimeline:"PaginatedTimeline_paginatedTimeline__Ykov7",paginatedTimeline__content:"PaginatedTimeline_paginatedTimeline__content__Vd1IN",paginatedTimeline__content__wrapper:"PaginatedTimeline_paginatedTimeline__content__wrapper__BoC2B",timelineItem__splitView:"PaginatedTimeline_timelineItem__splitView__oVyH1",paginatedTimeline__content__item:"PaginatedTimeline_paginatedTimeline__content__item__TvOk7",paginatedTimeline__content__item__content:"PaginatedTimeline_paginatedTimeline__content__item__content__8L4BS",paginatedTimelineItem:"PaginatedTimeline_paginatedTimelineItem__SmFtz",paginatedTimelineItem__content__item__imageWrapper:"PaginatedTimeline_paginatedTimelineItem__content__item__imageWrapper__t6I8r","-active":"PaginatedTimeline_-active__S8gHf",paginatedTimeline__content__line:"PaginatedTimeline_paginatedTimeline__content__line__7dACg",paginatedTimeline__content__item__title:"PaginatedTimeline_paginatedTimeline__content__item__title__UbUe_",blowUpTitle:"PaginatedTimeline_blowUpTitle__Gjjk0",blowDownTitle:"PaginatedTimeline_blowDownTitle__qDUm2",paginatedTimelineItem__content__item__image:"PaginatedTimeline_paginatedTimelineItem__content__item__image__dXMPM",paginatedTimelineItem__content__currentLine:"PaginatedTimeline_paginatedTimelineItem__content__currentLine__d_eUL",arrowOut:"PaginatedTimeline_arrowOut__0uZ3_",arrowIn:"PaginatedTimeline_arrowIn__FXrbp",arrowCurcleOut:"PaginatedTimeline_arrowCurcleOut___ugok",arrowCurcleIn:"PaginatedTimeline_arrowCurcleIn__ZOE2C",paginatedTimelineItem__content__item__title:"PaginatedTimeline_paginatedTimelineItem__content__item__title__sKLkz",paginatedTimeline__content__triangle:"PaginatedTimeline_paginatedTimeline__content__triangle__Duj8d",paginatedTimelineItem__content__item__headline:"PaginatedTimeline_paginatedTimelineItem__content__item__headline__3Z_ht",paginatedTimelineItem__content__item__text:"PaginatedTimeline_paginatedTimelineItem__content__item__text__EtIxO"}},481:function(e){e.exports={reportForm:"ReportForm_reportForm__E6v7M",reportForm__error:"ReportForm_reportForm__error__HihfJ",reportForm__error__close:"ReportForm_reportForm__error__close__wz9ma",reportForm__error__close__bottom:"ReportForm_reportForm__error__close__bottom__q7KOI",reportForm__error__close__top:"ReportForm_reportForm__error__close__top__HcP6W",reportForm__upper:"ReportForm_reportForm__upper__3Qy_r",reportForm__upper__inner:"ReportForm_reportForm__upper__inner__ytd34",reportForm__upload__list:"ReportForm_reportForm__upload__list__h8cfW",reportForm__upload__remove:"ReportForm_reportForm__upload__remove__V2O_4",reportForm__submit__wrapper:"ReportForm_reportForm__submit__wrapper__t3val",reportForm__submit__spinner:"ReportForm_reportForm__submit__spinner__ub4e_",reportForm__form:"ReportForm_reportForm__form____isc","-successfull":"ReportForm_-successfull__R_zVi","display-none-transition":"ReportForm_display-none-transition__sQbKf",reportForm__thankyou:"ReportForm_reportForm__thankyou__vIwV2","-thankyou":"ReportForm_-thankyou__m3IW0","opacity-zero-to-hundred":"ReportForm_opacity-zero-to-hundred__d6CBh",reportForm__upper__inner__left:"ReportForm_reportForm__upper__inner__left__BIiZF",reportForm__upper__inner__emailWrapper:"ReportForm_reportForm__upper__inner__emailWrapper___h_io"}}}]);